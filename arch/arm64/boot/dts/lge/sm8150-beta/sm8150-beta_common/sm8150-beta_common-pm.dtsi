/*
 * Copyright (c) 2018, The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */
#include "../../sm8150_common/sm8150_common-pm.dtsi"
&vendor {
	lge-veneer-psy {
		charging-time {
			#address-cells = <1>;
			#size-cells = <0>;
			lge,overstatement-enable = <0>;
			lge,overstatement-weight = <2>;
			lge,overstatement-base = <100>;

			lge,bsm-mincharging-ma = <1200>;
			lge,maxcharging-mw-chargerlogo = <15000>;
			lge,maxcharging-mw-normal = <11500>;

			lge,charger@0 {		//  fast charger: 9000mV * 1660mA or 5000mV * 3000mA
				charger-power = <15000>;
				charger-profile = <
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  18  18  18  18  18
					18  18  18  18  18  18  18  18  18  18  18  21  21  21  21  21
					21  21  21  21  21  21  21  21  25  25  25  25  25  25  25  25
					25  25  25  25  25  25  25  25  25  25  25  25  25  29  29  29
					29  29  29  29  29  29  29  29  29  29  29  29  33  33  33  33
					33  33  33  33  33  35  35  45  45  45  45  45  45  45  45  45
					45  54  54  54  54  54  54  54  58  52  53  54  55  59  62  68
					74  80  85  93  99 108 108 108 108 108 108 108 108 108 108 108
				>;
			};
			lge,charger@1 {		//  power-on fast charger: 2.3A * 4.0V / 80% = 11.5W
				charger-power = <11500>;
				charger-profile = <
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
					20  20  20  20  20  20  20  20  24  24  24  24  24  24  24  24
					24  24  24  24  24  24  24  24  24  24  24  24  24  28  28  28
					28  28  28  28  28  28  28  28  28  28  28  28  31  31  31  31
					31  31  31  31  31  34  34  43  43  43  43  43  43  43  43  43
					43  52  52  52  52  52  52  52  55  52  53  54  55  59  62  68
					74  80  85  93  99 108 108 108 108 108 108 108 108 108 108 108
				>;
			};
			lge,charger@2 {		//  dcp charger: 5000mV * 1800mA = 9W
				charger-power = <9000>;
				charger-profile = <
					28  28  28  28  28  28  28  28  28  28  28  28  28  28  28  28
					28  28  28  29  29  29  29  29  29  29  29  29  29  29  29  29
					29  29  29  29  29  29  29  29  29  29  29  29  29  29  29  29
					29  29  29  29  29  29  29  29  29  29  29  29  29  29  29  29
					29  29  29  29  30  30  30  30  30  30  30  30  30  30  30  30
					30  30  30  30  30  30  30  30  30  30  30  30  30  30  30  30
					30  30  30  30  30  30  30  30  30  30  30  30  30  30  30  30
					30  31  31  31  31  31  31  31  31  31  31  31  31  31  31  31
					31  31  31  31  31  31  31  31  31  31  31  31  31  31  31  31
					31  31  31  31  31  31  31  31  31  31  31  31  32  32  32  32
					32  32  32  32  32  32  32  32  32  32  32  32  32  32  32  32
					32  32  32  32  32  32  32  32  32  32  32  32  32  32  32  32
					32  32  32  33  33  33  33  33  33  33  33  33  34  34  34  35
					35  35  36  36  37  37  37  36  38  39  38  39  39  40  42  43
					44  45  46  47  47  47  48  50  51  52  53  54  55  59  62  68
					74  80  85  93  99 108 108 108 108 108 108 108 108 108 108 108
				>;
			};
			lge,charger@3 {		// EPP wireless charger: 9000mV * 900mA = 8.1W
				charger-power = <8100>;
				charger-profile = <
					33  33  33  33  33  33  33  33  33  33  33  33  33  33  33  33
					33  33  33  33  33  33  33  33  33  33  33  33  33  33  33  33
					33  33  33  33  33  33  33  33  33  33  33  33  33  33  33  33
					33  33  33  33  33  33  33  33  33  33  33  33  33  33  33  33
					33  33  33  33  33  33  33  33  33  33  33  33  33  33  33  33
					33  33  33  33  33  33  33  33  33  33  33  33  33  33  33  33
					33  33  33  33  33  33  33  33  33  34  34  34  34  34  34  34
					34  34  34  34  34  34  34  34  34  34  34  34  34  34  34  34
					34  34  34  34  34  34  34  34  34  34  34  34  34  34  34  34
					34  34  34  34  34  34  35  35  35  35  35  35  35  35  35  35
					35  35  35  35  35  35  35  35  35  35  35  35  35  35  35  35
					35  35  35  35  35  35  35  35  35  35  35  35  35  35  35  35
					36  36  36  36  36  36  36  36  36  36  36  36  36  36  36  36
					36  37  37  37  38  38  39  40  41  42  43  45  46  47  48  50
					51  53  52  52  52  52  52  52  52  52  53  54  55  59  62  68
					74  80  85  93  99 108 108 108 108 108 108 108 108 108 108 108
				>;
			};
			lge,charger@4 {		// BPP wireless charger: 5000mV * 850mA = 4.25W
				charger-power = <4250>;
				charger-profile = <
					41  41  41  41  41  41  41  41  41  41  41  41  41  41  41  41
					42  42  42  42  42  42  42  42  42  42  42  42  42  42  42  42
					42  42  42  42  42  42  42  42  42  42  43  43  43  43  43  43
					43  43  43  43  43  43  43  43  43  43  43  43  43  43  43  43
					43  43  44  44  44  44  44  44  44  44  44  44  44  44  44  44
					44  44  44  44  44  44  44  44  44  44  44  45  45  45  45  45
					45  45  45  45  45  45  45  45  45  45  45  45  45  45  45  45
					46  46  46  46  46  46  46  46  46  46  46  46  46  46  46  46
					46  46  46  46  46  46  47  47  47  47  47  47  47  47  47  47
					47  47  47  47  47  47  47  47  47  47  47  48  48  48  48  48
					48  48  48  48  48  48  48  48  48  48  48  48  48  48  48  49
					49  49  49  49  49  49  49  49  49  49  49  49  49  49  49  49
					49  49  50  50  50  50  50  50  50  50  50  50  50  50  50  50
					50  50  50  51  51  51  51  51  51  51  51  51  51  51  51  51
					51  51  51  51  51  52  52  52  52  52  53  54  55  59  62  68
					74  80  85  93  99 108 108 108 108 108 108 108 108 108 108 108
				>;
			};
			lge,charger@5 {		// SDP: 5000mV * 500mA = 2.5W
				charger-power = <2500>;
				charger-profile = <
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  89  89  89  89  89  89  89  89  89  89  89  89  89
					89  89  89  93  99 108 108 108 108 108 108 108 108 108 108 108
				>;
			};
		};

		unified-nodes {
			lge,feature-charging-parallel = <0>;
		};

		protection-battemp {
			lge,chilly-ma-alert = <690>;
		};

		protection-batvolt {
			lge,threshold-ibat-pct = <70>;
		};
	};

	lge_batterydata: qcom,battery-data {
		qcom,batt-id-range-pct = <15>;
		#include "../../battery_profile/LGE_BLT43_3550mAh.dtsi"
	};

	lge-battery-supplement {
		capacity-mah-min = <3450>;
		capacity-raw-full = <247>;

		default-battery-name = "LGE_BLT43_3550mAh";
		default-battery-kohm = <63>;

		/* format : (temp index) (temp delta) */
		tempcomp-offset = <
			(-300) (-50)
			(-230) (-50)
			(-200) (-30)
			(-170) (-10)
			(-120) (-10)
			( -60) (-20)
			( -10) (-20)
			   40  (-20)
			   80  (-10)
			  130  (-10)
			  170     0
			  220     0
			  260    10
			  310    10
			  370     0
			  420     0
			  480  (-10)
			  520     0
			  570     0
			  620     0
			  660    10
			  700    10
			  730    50
			  750    60
			  800   120
		>;
		tempcomp-icoeff = <30>;
	};
};

&pm8150b_charger {
	qcom,sec-charger-config = <0>;
	lge,parallel-pct = <70>;
};

&pm8150b_vadc {
	bat_therm_pu1 {
		reg = <ADC_BAT_THERM_PU1>;
		label = "bat_therm_pu1";
		qcom,pre-scaling = <1 1>;
	};

	bat_therm_pu2 {
		reg = <ADC_BAT_THERM_PU2>;
		label = "bat_therm_pu2";
		qcom,pre-scaling = <1 1>;
	};

	bat_therm_pu3 {
		reg = <ADC_BAT_THERM_PU3>;
		label = "bat_therm_pu3";
		qcom,pre-scaling = <1 1>;
	};
};

&qupv3_se0_i2c {
	idtp9222-charger@61 {
		// FOD parameters
		idt,fod-bpp    = [A5 28 88 2E 98 19 A3 03 A1 FB A8 E8];
		idt,fod-epp    = [A4 31 88 44 86 46 96 19 97 0A 9C E7];
	};
};
